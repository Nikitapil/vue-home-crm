(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fbd6bac"],{6859:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"page-title"},[n("h3",[e._v(e._s(e._f("localize")("Menu_planning")))]),e.loading?e._e():n("h4",[e._v(e._s(e._f("currency")(e.info.bill,"BYN")))])]),e.loading?n("loader"):e.categories.length?n("section",e._l(e.categories,(function(t){return n("div",{key:t.id},[n("p",[n("strong",[e._v(e._s(t.title)+":")]),e._v(" "+e._s(e._f("currency")(t.spent,"BYN"))+" из "+e._s(e._f("currency")(t.limit,"BYN"))+" ")]),n("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltip,expression:"cat.tooltip"}],staticClass:"progress"},[n("div",{staticClass:"determinate",class:[t.progressColor],style:{width:t.progressPercent+"%"}})])])})),0):n("p",{staticClass:"center"},[e._v(" "+e._s(e._f("localize")("No_Categories"))+" "),n("router-link",{attrs:{to:"/categories"}},[e._v(e._s(e._f("localize")("Add_category")))])],1)],1)},a=[],o=n("1da1"),c=n("5530"),i=(n("96cf"),n("d81d"),n("d3b7"),n("4de4"),n("99af"),n("d437")),s=n("2f62"),l=n("5bb3"),u=n("e977"),d={name:"planning",components:{Loader:i["a"]},data:function(){return{loading:!0,categories:[]}},computed:Object(c["a"])({},Object(s["c"])(["info"])),metaInfo:{title:"Planning"},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("fetchRecords");case 2:return n=t.sent,t.next=5,e.$store.dispatch("fetchCategories");case 5:r=t.sent,e.categories=r.map((function(e){var t=n.filter((function(t){return t.categoryId===e.id})).filter((function(e){return"outcome"===e.type})).reduce((function(e,t){return e+ +t.amount}),0),r=t/e.limit*100,a=r>100?100:r,o=r<60?"green":r<100?"yellow":"red",i=e.limit-t,s=i<0?"".concat(Object(u["a"])("Exceeding_by")," ").concat(Object(l["a"])(Math.abs(i))):"".concat(Object(u["a"])("Remains")," ").concat(Object(l["a"])(Math.abs(i)));return Object(c["a"])(Object(c["a"])({},e),{},{progressPercent:a,progressColor:o,spent:t,tooltip:s})})),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}},p=d,f=n("2877"),g=Object(f["a"])(p,r,a,!1,null,null,null);t["default"]=g.exports},d81d:function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").map,o=n("1dde"),c=o("map");r({target:"Array",proto:!0,forced:!c},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-0fbd6bac.f71775e5.js.map